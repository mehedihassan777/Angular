{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { catchError, map, Subject, throwError } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nvar PostService = /** @class */function () {\n  function PostService(http) {\n    this.http = http;\n    this.error = new Subject();\n  }\n  PostService.prototype.createAndStorePost = function (title, content) {\n    var _this = this;\n    var postData = {\n      title: title,\n      content: content\n    };\n    this.http.post('https://http-practice-9d5c8-default-rtdb.firebaseio.com/posts.json', postData).subscribe(function (responseData) {\n      console.log(responseData);\n    }, function (error) {\n      _this.error.next(error.message);\n    });\n  };\n  PostService.prototype.fetchPosts = function () {\n    return this.http.get('https://http-practice-9d5c8-default-rtdb.firebaseio.com/posts.json').pipe(map(function (responseData) {\n      var postArray = [];\n      for (var key in responseData) {\n        if (responseData.hasOwnProperty(key)) postArray.push(__assign(__assign({}, responseData[key]), {\n          id: key\n        }));\n      }\n      return postArray;\n    }), catchError(function (errorRes) {\n      return throwError(errorRes);\n    }));\n  };\n  PostService.prototype.deletePosts = function () {\n    return this.http.delete('https://http-practice-9d5c8-default-rtdb.firebaseio.com/posts.json');\n  };\n  PostService.ɵfac = function PostService_Factory(t) {\n    return new (t || PostService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  PostService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: PostService,\n    factory: PostService.ɵfac,\n    providedIn: 'root'\n  });\n  return PostService;\n}();\nexport { PostService };","map":{"version":3,"mappings":";AAAA,SAASA,UAAU,QAAQ,sBAAsB;AAEjD,SAASC,UAAU,EAAEC,GAAG,EAAEC,OAAO,EAAEC,UAAU,QAAQ,MAAM;;;AAG3D;EAGI,qBAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IADxB,UAAK,GAAG,IAAIF,OAAO,EAAU;EACW;EAExCG,wCAAkB,GAAlB,UAAmBC,KAAa,EAAEC,OAAe;IAAjD;IACI,IAAMC,QAAQ,GAAS;MAAEF,KAAK,EAAEA,KAAK;MAAEC,OAAO,EAAEA;IAAO,CAAE;IACzD,IAAI,CAACH,IAAI,CAACK,IAAI,CAAmB,oEAAoE,EAAED,QAAQ,CAAC,CAACE,SAAS,CAAC,sBAAY;MACnIC,OAAO,CAACC,GAAG,CAACC,YAAY,CAAC;IAC7B,CAAC,EAAE,eAAK;MAAMC,KAAI,CAACC,KAAK,CAACC,IAAI,CAACD,KAAK,CAACE,OAAO,CAAC;IAAC,CAAC,CAAC;EACnD,CAAC;EAEDZ,gCAAU,GAAV;IACI,OAAO,IAAI,CAACD,IAAI,CAACc,GAAG,CAA0B,oEAAoE,CAAC,CAACC,IAAI,CAAClB,GAAG,CAAC,sBAAY;MACrI,IAAMmB,SAAS,GAAW,EAAE;MAC5B,KAAK,IAAMC,GAAG,IAAIR,YAAY,EAAE;QAC5B,IAAIA,YAAY,CAACS,cAAc,CAACD,GAAG,CAAC,EAChCD,SAAS,CAACG,IAAI,uBAAMV,YAAY,CAACQ,GAAG,CAAC;UAAEG,EAAE,EAAEH;QAAG,GAAG;;MAEzD,OAAOD,SAAS;IACpB,CAAC,CAAC,EACEpB,UAAU,CAAC,kBAAQ;MACf,OAAOG,UAAU,CAACsB,QAAQ,CAAC;IAC/B,CAAC,CAAC,CACL;EACL,CAAC;EAEDpB,iCAAW,GAAX;IACI,OAAO,IAAI,CAACD,IAAI,CAACsB,MAAM,CAAC,oEAAoE,CAAC;EACjG,CAAC;;qBA5BQrB,WAAW;EAAA;;WAAXA,WAAW;IAAAsB,SAAXtB,WAAW;IAAAuB,YADE;EAAM;oBALhC;CAoCC,EA/BD;SACavB,WAAW","names":["HttpClient","catchError","map","Subject","throwError","http","PostService","title","content","postData","post","subscribe","console","log","responseData","_this","error","next","message","get","pipe","postArray","key","hasOwnProperty","push","id","errorRes","delete","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Desktop\\Angular\\http-02-post-requests\\src\\app\\post.service.ts"],"sourcesContent":["import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { catchError, map, Subject, throwError } from \"rxjs\";\r\nimport { Post } from \"./post.model\";\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PostService {\r\n    error = new Subject<string>();\r\n    constructor(private http: HttpClient) { }\r\n\r\n    createAndStorePost(title: string, content: string) {\r\n        const postData: Post = { title: title, content: content };\r\n        this.http.post<{ name: string }>('https://http-practice-9d5c8-default-rtdb.firebaseio.com/posts.json', postData).subscribe(responseData => {\r\n            console.log(responseData);\r\n        }, error => { this.error.next(error.message) });\r\n    }\r\n\r\n    fetchPosts() {\r\n        return this.http.get<{ [key: string]: Post }>('https://http-practice-9d5c8-default-rtdb.firebaseio.com/posts.json').pipe(map(responseData => {\r\n            const postArray: Post[] = [];\r\n            for (const key in responseData) {\r\n                if (responseData.hasOwnProperty(key))\r\n                    postArray.push({ ...responseData[key], id: key });\r\n            }\r\n            return postArray;\r\n        }),\r\n            catchError(errorRes => {\r\n                return throwError(errorRes);\r\n            })\r\n        );\r\n    }\r\n\r\n    deletePosts() {\r\n        return this.http.delete('https://http-practice-9d5c8-default-rtdb.firebaseio.com/posts.json');\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}